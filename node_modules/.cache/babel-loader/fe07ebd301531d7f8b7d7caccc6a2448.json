{"ast":null,"code":"import _objectSpread from \"C:/Users/Fardin/Documents/ngoding/bookstores/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  name: \"register\",\n  data: function data() {\n    return {\n      valid: true,\n      name: \"\",\n      nameRules: [function (v) {\n        return !!v || \"Name is required\";\n      }, function (v) {\n        return v && v.length <= 255 || \"Name must be less than 255 characters\";\n      }],\n      showPassword: false,\n      password: \"\",\n      passwordRules: [function (v) {\n        return !!v || \"Password required.\";\n      }, function (v) {\n        return v && v.length >= 6 || \"min 6 characters\";\n      }],\n      email: \"\",\n      emailRules: [function (v) {\n        return !!v || \"E-mail is required\";\n      }, function (v) {\n        return /([a-zA-Z0-9_]{1,})(@)([a-zA-Z0-9_]{2,}).([a-zA-Z0-9_]{2,})+/.test(v) || \"E-mail must be valid\";\n      }],\n      checkbox: false\n    };\n  },\n  computed: _objectSpread({}, mapGetters({\n    user: \"auth/user\"\n  })),\n  methods: _objectSpread(_objectSpread({}, mapActions({\n    setAlert: \"alert/set\",\n    setStatusDialog: \"dialog/setStatus\",\n    setAuth: \"auth/set\"\n  })), {}, {\n    close: function close() {\n      this.statusDialog(false);\n    },\n    submit: function submit() {\n      var _this = this;\n\n      if (this.$refs.form.validate()) {\n        var formData = new FormData();\n        formData.set(\"name\", this.name);\n        formData.set(\"email\", this.email);\n        formData.set(\"password\", this.password);\n        this.axios.post(\"/register\", formData).then(function (response) {\n          var data_user = response.data.data;\n\n          _this.setAuth(data_user);\n\n          _this.setAlert({\n            status: true,\n            text: \"register success\",\n            type: \"success\"\n          });\n\n          _this.setStatusDialog(false);\n        }).catch(function (error) {\n          console.log(error);\n          var responses = error.response;\n\n          _this.setAlert({\n            status: true,\n            text: responses.data.message,\n            type: \"error\"\n          });\n        });\n      }\n    },\n    clear: function clear() {\n      this.refresh.form.reset();\n    }\n  })\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;EACAA,gBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,WADA;MAEAF,QAFA;MAGAG,YACA;QAAA;MAAA,CADA,EAEA;QAAA,OACAC,+DADA;MAAA,CAFA,CAHA;MAQAC,mBARA;MASAC,YATA;MAUAC,gBACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAVA;MAcAC,SAdA;MAeAC,aACA;QAAA;MAAA,CADA,EAEA;QAAA,OACA,mEACAL,CADA,KAEA,sBAHA;MAAA,CAFA,CAfA;MAsBAM;IAtBA;EAwBA,CA3BA;EA4BAC,4BACAC;IACAC;EADA,EADA,CA5BA;EAiCAC,yCACAC;IACAC,qBADA;IAEAC,mCAFA;IAGAC;EAHA,EADA;IAMAC,KANA,mBAMA;MACA;IACA,CARA;IASAC,MATA,oBASA;MAAA;;MACA;QACA;QACAC;QACAA;QACAA;QACA,WACAC,IADA,CACA,WADA,EACAD,QADA,EAEAE,IAFA,CAEA;UACA;;UACA;;UACA;YACAC,YADA;YAEAC,wBAFA;YAGAC;UAHA;;UAKA;QACA,CAXA,EAYAC,KAZA,CAYA;UACAC;UACA;;UACA;YACAJ,YADA;YAEAC,4BAFA;YAGAC;UAHA;QAKA,CApBA;MAqBA;IACA,CArCA;IAsCAG,KAtCA,mBAsCA;MACA;IACA;EAxCA;AAjCA","names":["name","data","valid","nameRules","v","showPassword","password","passwordRules","email","emailRules","checkbox","computed","mapGetters","user","methods","mapActions","setAlert","setStatusDialog","setAuth","close","submit","formData","post","then","status","text","type","catch","console","clear"],"sourceRoot":"src/views","sources":["RegisterView.vue"],"sourcesContent":["<template>\r\n  <v-card>\r\n    <v-toolbar dark color=\"primary\">\r\n      <v-btn icon dark @click.native=\"close\">\r\n        <v-icon> mdi mdi-close </v-icon>\r\n      </v-btn>\r\n      <v-toolbar-title> Register </v-toolbar-title>\r\n    </v-toolbar>\r\n    <v-divider></v-divider>\r\n    <v-container fluid>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-text-field\r\n          v-model=\"name\"\r\n          :rules=\"nameRules\"\r\n          :counter=\"255\"\r\n          label=\"Name\"\r\n          required\r\n          append-icon=\"mdi mdi-account\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"emailRules\"\r\n          label=\"E-mail\"\r\n          required\r\n          append-icon=\"mdi mdi-email\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"password\"\r\n          :append-icon=\"showPassword ? 'mdi mdi-eye' : 'mdi mdi-eye-off'\"\r\n          :rules=\"passwordRules\"\r\n          :type=\"showPassword ? 'text' : 'password'\"\r\n          label=\"Password\"\r\n          hint=\"At least 6 characters\"\r\n          counter\r\n          @click:append=\"showPassword = !showPassword\"\r\n        ></v-text-field>\r\n        <v-checkbox\r\n          v-model=\"checkbox\"\r\n          :rules=\"[(v) => !!v || 'You must agree to continue!']\"\r\n          label=\"Do You agree with our privacy policy ?\"\r\n          required\r\n        ></v-checkbox>\r\n        <div class=\"text-xs-center\">\r\n          <v-btn color=\"primary\" :disabled=\"!valid\" @click=\"submit\">\r\n            Submit\r\n            <v-icon right dark> mdi mdi-account-plus </v-icon>\r\n          </v-btn>\r\n          <v-btn @click=\"clear\"> Clear </v-btn>\r\n        </div>\r\n      </v-form>\r\n    </v-container>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"register\",\r\n  data() {\r\n    return {\r\n      valid: true,\r\n      name: \"\",\r\n      nameRules: [\r\n        (v) => !!v || \"Name is required\",\r\n        (v) =>\r\n          (v && v.length <= 255) || \"Name must be less than 255 characters\",\r\n      ],\r\n      showPassword: false,\r\n      password: \"\",\r\n      passwordRules: [\r\n        (v) => !!v || \"Password required.\",\r\n        (v) => (v && v.length >= 6) || \"min 6 characters\",\r\n      ],\r\n      email: \"\",\r\n      emailRules: [\r\n        (v) => !!v || \"E-mail is required\",\r\n        (v) =>\r\n          /([a-zA-Z0-9_]{1,})(@)([a-zA-Z0-9_]{2,}).([a-zA-Z0-9_]{2,})+/.test(\r\n            v\r\n          ) || \"E-mail must be valid\",\r\n      ],\r\n      checkbox: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      user: \"auth/user\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setAlert: \"alert/set\",\r\n      setStatusDialog: \"dialog/setStatus\",\r\n      setAuth: \"auth/set\",\r\n    }),\r\n    close() {\r\n      this.statusDialog(false);\r\n    },\r\n    submit() {\r\n      if (this.$refs.form.validate()) {\r\n        let formData = new FormData();\r\n        formData.set(\"name\", this.name);\r\n        formData.set(\"email\", this.email);\r\n        formData.set(\"password\", this.password);\r\n        this.axios\r\n          .post(\"/register\", formData)\r\n          .then((response) => {\r\n            let data_user = response.data.data;\r\n            this.setAuth(data_user);\r\n            this.setAlert({\r\n              status: true,\r\n              text: \"register success\",\r\n              type: \"success\",\r\n            });\r\n            this.setStatusDialog(false);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            let responses = error.response;\r\n            this.setAlert({\r\n              status: true,\r\n              text: responses.data.message,\r\n              type: \"error\",\r\n            });\r\n          });\r\n      }\r\n    },\r\n    clear() {\r\n      this.refresh.form.reset();\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}